package com.example;

import java.time.LocalDate;
import java.util.Scanner;

import com.example.demo.Insurance;
import com.example.demo.LifeInsurance;
import com.example.demo.VehicleInsurance;
import com.example.demo.service.InsuranceService;

public class InsuranceApplication {

	
	public static Insurance insuranceFactory(int key, Scanner scanner) {
		Insurance insurance = null;
		System.out.print("Enter Policy Number : ");
		int policyNumber = scanner.nextInt();
		System.out.print("Enter Policy Holder Name : ");
		String policyHolderName = scanner.next();
		System.out.print("Enter Policy Amount : ");
		double policyAmount = scanner.nextDouble();
		
		switch(key) {
		case 1:{
			String dobString = scanner.next();
			LocalDate dob = LocalDate.parse(dobString);
			insurance = new LifeInsurance(policyNumber, policyHolderName, policyAmount, dob);
			break;
		}
		case 2:{
			int engineCapacity = scanner.nextInt();
			insurance = new VehicleInsurance(policyNumber, policyHolderName, policyAmount, engineCapacity);
			break;
		}
		default:
			break;
		}
		return insurance;
	}
	
	public static void main(String []args) {
		
		InsuranceService service = new InsuranceService();
		Scanner scanner = new Scanner(System.in);
		Insurance life = insuranceFactory(1,scanner);
		Insurance vehicle = insuranceFactory(2,scanner);
		System.out.println("Life : " +  service.findPremium(life));
		System.out.println("Vehicle : " +  service.findPremium(vehicle));
	}
}
