package com.example.demo;

import java.util.Arrays;
import java.util.List;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.stream.IntStream;

public class ExceptionHandleWithLambda {

	public void handleException() {
//		List<Integer> listMarks = Arrays.asList(49,56,24,89,0);
		List<Integer> listMarks = List.of(49,56,24,89,0);
		
//		listMarks.add(86); // B/C it is unmodifiable list
		
		Function<Integer, Integer> divisionWithTry = (number) -> {
			int result = 0;
			try {
				result = 420/number;
			} catch (Exception e) {
				System.err.println("Deno is 0");
			}
			return result;
		};
//		listMarks.forEach(e -> divisionWithTry.apply(e));
		
		
		// Try by Consumer
		listMarks.forEach(wrapper(e -> System.out.println(420/e)));
		
		
		Function<String, Integer> parser = argOne -> Integer.parseInt(argOne);
		
//		parser.apply("Four");
		
		List<String> numStr = List.of("1", "2", "Four");
		
//		numStr.forEach(wrapperStr(e -> System.out.println(Integer.parseInt(e))));
		
		
		String s = "1";
		Consumer<String> con = wrapperStr(e -> System.out.println(Integer.parseInt(e)));
		con.accept(s);
	}
	
	
	public static Consumer<Integer> wrapper(Consumer<Integer> consumer){
		return (arg) -> {
			try {
				consumer.accept(arg);
			} catch(Exception e) {
				System.err.println(e.getMessage());
			}
		};
	}
	
	public static Consumer<String> wrapperStr(Consumer<String> consumer){
		return (arg) -> {
			try {
				consumer.accept(arg);
			} catch(Exception e) {
				System.err.println(e.getMessage());
			}
		};
	}
	
	public static void main(String []args) {
		ExceptionHandleWithLambda obj = new ExceptionHandleWithLambda();
		
//		obj.handleException();
		
		IntStream stream = IntStream.of(89,56,45,23,90);
//					stream
//					.filter(e -> e>30)
//					.peek(e-> System.out.println("First peeking " + e))
//					.map(e -> e-2)
//					.peek(e-> System.out.println("Second peeking " + e))
//					.forEach(System.out::println);
		
//		stream.limit(3).forEach(System.out::println);
		
		stream.limit(4).skip(3).forEach(System.out::println);
	}
}
